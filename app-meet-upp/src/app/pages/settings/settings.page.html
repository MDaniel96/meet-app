<ion-header>
  <ion-toolbar>
    <ion-title>Settings</ion-title>
  </ion-toolbar>
</ion-header>


<ion-content *ngIf="user" fullscreen>

  <ion-card>
    <ion-card-header class="ion-no-padding">
      <ion-grid>
        <ion-row class="ion-justify-content-left">

          <ion-col size="3" class="ion-no-padding">
            <ion-item class="ion-no-padding padding-left-5" lines="none">
              <ion-avatar>
                <img [src]="user.image">
              </ion-avatar>
            </ion-item>
          </ion-col>

          <ion-col size="9">
            <ion-card-title>{{ user.name }}</ion-card-title>
            <ion-card-content class="ion-no-padding item-footer"> {{ user.email }} </ion-card-content>
          </ion-col>

        </ion-row>
      </ion-grid>
    </ion-card-header>
  </ion-card>

  <ion-list>

    <ion-item lines="none">
      <ion-icon class="ion-padding" name="search"></ion-icon>
      <ion-label class="search">Search radius</ion-label>
      <div class="text-align-right" slot="end"><b>{{ user.setting.radius | distance }}</b></div>
    </ion-item>

    <ion-item>
      <ion-range [(ngModel)]="user.setting.radius" min="100" max="20000" step="100" color="secondary">
        <div class="gray" slot="start">100 m</div>
        <div class="gray" slot="end">20 km</div>
      </ion-range>
    </ion-item>

    <ion-item>
      <ion-icon class="ion-padding" name="airplane"></ion-icon>
      <ion-label>Travel mode</ion-label>
      <ion-select [(ngModel)]="user.setting.travelMode" interface="popover">
        <ion-select-option value="walking">Walking</ion-select-option>
        <ion-select-option value="driving">Driving</ion-select-option>
        <ion-select-option value="transit">Public transport</ion-select-option>
        <ion-select-option value="byair">By air</ion-select-option>
      </ion-select>
    </ion-item>

    <ion-item>
      <ion-icon class="ion-padding" name="notifications"></ion-icon>
      <ion-label>Allow notifications</ion-label>
      <ion-toggle [(ngModel)]="user.setting.notifications" slot="end"></ion-toggle>
    </ion-item>

    <ion-item>
      <ion-icon class="ion-padding" name="locate"></ion-icon>
      <ion-label>
        <div>{{ locationHeadStr }} <b>{{ locationHeadStatus }}</b></div>
        <div class="item-footer">{{ locationFootStr }}</div>
      </ion-label>
    </ion-item>

    <ion-item href="" (click)="logout()">
      <ion-icon class="ion-padding" name="log-out"></ion-icon>
      <ion-label>Logout</ion-label>
    </ion-item>

  </ion-list>

</ion-content>